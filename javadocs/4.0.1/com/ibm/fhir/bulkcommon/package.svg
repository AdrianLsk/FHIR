<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="257px" preserveAspectRatio="none" style="width:884px;height:257px;" version="1.1" viewBox="0 0 884 257" width="884px" zoomAndPan="magnify"><defs><filter height="300%" id="fcsoxj3dqalpk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[8ab76d15f9b3711e4cc5fea456373f2a]
cluster com.ibm.fhir.bulkcommon--><polygon fill="#FFFFFF" filter="url(#fcsoxj3dqalpk)" points="14,16,207,16,214,38.4883,862,38.4883,862,216,14,216,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="214" y1="38.4883" y2="38.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="18" y="31.5352">com.ibm.fhir.bulkcommon</text><!--MD5=[e7e3c82d09349dbf69eca3d069a821b9]
class com.ibm.fhir.bulkcommon.Constants--><a href="Constants.html" target="_top" title="Constants.html" xlink:actuate="onRequest" xlink:href="Constants.html" xlink:show="new" xlink:title="Constants.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#fcsoxj3dqalpk)" height="164.5957" id="com.ibm.fhir.bulkcommon.Constants" style="stroke: #A80036; stroke-width: 1.5;" width="285" x="568.5" y="43"/><ellipse cx="678.75" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M681.2231,65.1431 Q680.6421,65.4419 680.0029,65.5913 Q679.3638,65.7407 678.6582,65.7407 Q676.1514,65.7407 674.8315,64.0889 Q673.5117,62.437 673.5117,59.3159 Q673.5117,56.1865 674.8315,54.5347 Q676.1514,52.8828 678.6582,52.8828 Q679.3638,52.8828 680.0112,53.0322 Q680.6587,53.1816 681.2231,53.4805 L681.2231,56.2031 Q680.5923,55.6221 679.9988,55.3523 Q679.4053,55.0825 678.7744,55.0825 Q677.4297,55.0825 676.7449,56.1492 Q676.0601,57.2158 676.0601,59.3159 Q676.0601,61.4077 676.7449,62.4744 Q677.4297,63.541 678.7744,63.541 Q679.4053,63.541 679.9988,63.2712 Q680.5923,63.0015 681.2231,62.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="699.25" y="63.5352">Constants</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="569.5" x2="852.5" y1="75" y2="75"/><ellipse cx="579.5" cy="86" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="167" x="588.5" y="89.6348">DEFAULT_FHIR_TENANT: String</text><ellipse cx="579.5" cy="98.9551" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="195" x="588.5" y="102.5898">DEFAULT_COS_BUCKETNAME: String</text><ellipse cx="579.5" cy="111.9102" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="151" x="588.5" y="115.5449">COS_PART_MINIMALSIZE: int</text><ellipse cx="579.5" cy="124.8652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="588.5" y="128.5">DEFAULT_SEARCH_PAGE_SIZE: int</text><ellipse cx="579.5" cy="137.8203" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="259" x="588.5" y="141.4551">DEFAULT_NUMOFPAGES_EACH_COS_OBJECT: int</text><ellipse cx="579.5" cy="150.7754" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="214" x="588.5" y="154.4102">DEFAULT_NUMOFOBJECTS_PERREAD: int</text><ellipse cx="579.5" cy="163.7305" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="171" x="588.5" y="167.3652">DEFAULT_MAXCOSFILE_SIZE: int</text><ellipse cx="579.5" cy="176.6855" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="195" x="588.5" y="180.3203">FHIR_SEARCH_LASTUPDATED: String</text><ellipse cx="579.5" cy="189.6406" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="171" x="588.5" y="193.2754">NDJSON_LINESEPERATOR: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="569.5" x2="852.5" y1="199.5957" y2="199.5957"/></a><!--MD5=[ef6748d2f4e990e3d8f6bc9474708159]
class com.ibm.fhir.bulkcommon.COSUtils--><a href="COSUtils.html" target="_top" title="COSUtils.html" xlink:actuate="onRequest" xlink:href="COSUtils.html" xlink:show="new" xlink:title="COSUtils.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#fcsoxj3dqalpk)" height="125.7305" id="com.ibm.fhir.bulkcommon.COSUtils" style="stroke: #A80036; stroke-width: 1.5;" width="511" x="22.5" y="62.5"/><ellipse cx="250.25" cy="78.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M252.7231,84.6431 Q252.1421,84.9419 251.5029,85.0913 Q250.8638,85.2407 250.1582,85.2407 Q247.6514,85.2407 246.3315,83.5889 Q245.0117,81.937 245.0117,78.8159 Q245.0117,75.6865 246.3315,74.0347 Q247.6514,72.3828 250.1582,72.3828 Q250.8638,72.3828 251.5112,72.5322 Q252.1587,72.6816 252.7231,72.9805 L252.7231,75.7031 Q252.0923,75.1221 251.4988,74.8523 Q250.9053,74.5825 250.2744,74.5825 Q248.9297,74.5825 248.2449,75.6492 Q247.5601,76.7158 247.5601,78.8159 Q247.5601,80.9077 248.2449,81.9744 Q248.9297,83.041 250.2744,83.041 Q250.9053,83.041 251.4988,82.7712 Q252.0923,82.5015 252.7231,81.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="270.75" y="83.0352">COSUtils</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="532.5" y1="94.5" y2="94.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="532.5" y1="102.5" y2="102.5"/><ellipse cx="33.5" cy="113.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="263" x="42.5" y="117.1348">startPartUpload(AmazonS3, String, String): String</text><ellipse cx="33.5" cy="126.4551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="324" x="42.5" y="130.0898">getCosClient(String, String, String, String, String): AmazonS3</text><ellipse cx="33.5" cy="139.4102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="429" x="42.5" y="143.0449">multiPartUpload(AmazonS3, String, String, String, InputStream, int, int): PartETag</text><ellipse cx="33.5" cy="152.3652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="485" x="42.5" y="156">processCosObject(AmazonS3, String, String, FHIRPersistence, FHIRPersistenceContext): int</text><ellipse cx="33.5" cy="165.3203" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="413" x="42.5" y="168.9551">finishMultiPartUpload(AmazonS3, String, String, String, List&lt;PartETag&gt;): void</text><ellipse cx="33.5" cy="178.2754" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="151" x="42.5" y="181.9102">listBuckets(AmazonS3): void</text></a><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="182" x="353" y="243.668">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[cf17fc457702690fd5be44ba4747cc88]
@startuml
    namespace com.ibm.fhir.bulkcommon {

        class Constants [[Constants.html]] {
            {static} +DEFAULT_FHIR_TENANT: String
            {static} +DEFAULT_COS_BUCKETNAME: String
            {static} +COS_PART_MINIMALSIZE: int
            {static} +DEFAULT_SEARCH_PAGE_SIZE: int
            {static} +DEFAULT_NUMOFPAGES_EACH_COS_OBJECT: int
            {static} +DEFAULT_NUMOFOBJECTS_PERREAD: int
            {static} +DEFAULT_MAXCOSFILE_SIZE: int
            {static} +FHIR_SEARCH_LASTUPDATED: String
            {static} +NDJSON_LINESEPERATOR: String
        }

        class COSUtils [[COSUtils.html]] {
            {static} +startPartUpload(AmazonS3, String, String): String
            {static} +getCosClient(String, String, String, String, String): AmazonS3
            {static} +multiPartUpload(AmazonS3, String, String, String, InputStream, int, int): PartETag
            {static} +processCosObject(AmazonS3, String, String, FHIRPersistence, FHIRPersistenceContext): int
            {static} +finishMultiPartUpload(AmazonS3, String, String, String, List<PartETag>): void
            {static} +listBuckets(AmazonS3): void
        }

    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 05:24:54 EST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>